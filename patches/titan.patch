diff -Nur titan.svn/autogen.sh titan.svn.patched/autogen.sh
--- titan.svn/autogen.sh	2022-06-27 22:22:53.913965000 +0200
+++ titan.svn.patched/autogen.sh	2023-05-07 09:08:09.633931630 +0200
@@ -1,6 +1,6 @@
 #!/bin/sh
 
-package="tuxbox-neutrino"
+package="tuxbox-titan"
 
 srcdir=`dirname $0`
 test -z "$srcdir" && srcdir=.
diff -Nur titan.svn/configure.ac titan.svn.patched/configure.ac
--- titan.svn/configure.ac	2022-06-27 22:22:53.913965000 +0200
+++ titan.svn.patched/configure.ac	2023-05-06 14:42:09.895452103 +0200
@@ -17,6 +17,7 @@
 AM_CONDITIONAL([ENABLE_MULTICOM324], [test x$enable_multicom324 = xtrue])
 AC_SUBST(MULTICOM324)
 
+# eplayer3
 AC_ARG_ENABLE(eplayer3,
 	AS_HELP_STRING(--enable-eplayer3,    enable eplayer3 support),
 	[case "${enableval}" in
@@ -25,6 +26,22 @@
 AM_CONDITIONAL(ENABLE_EPLAYER3,test "$enable_eplayer3" = "yes")
 AC_SUBST(EPLAYER3)
 
+# gstreamer
+AC_ARG_ENABLE(gstreamer,
+	AS_HELP_STRING(--enable-gstreamer,include gstreamer as player engine support),
+	,[enable_gstreamer=no])
+AM_CONDITIONAL(ENABLE_EPLAYER4,test "$enable_gstreamer" = "yes")
+
+if test "$enable_gstreamer" = "yes"; then
+AC_DEFINE(EPLAYER4,1,[include gstreamer as player engine support])
+
+AC_ARG_WITH(gstversion,
+	AS_HELP_STRING([--with-gstversion],[use gstreamer version (major.minor)]),
+	[GST_MAJORMINOR=$withval],[GST_MAJORMINOR=1.0])
+
+PKG_CHECK_MODULES(GSTREAMER, gstreamer-$GST_MAJORMINOR gstreamer-pbutils-$GST_MAJORMINOR)
+fi
+
 AC_MSG_RESULT([
 summary:
 ----------------------------------------
diff -Nur titan.svn/Makefile.am titan.svn.patched/Makefile.am
--- titan.svn/Makefile.am	2022-06-27 22:22:53.917965000 +0200
+++ titan.svn.patched/Makefile.am	2023-05-06 14:32:09.001581995 +0200
@@ -1,3 +1,3 @@
 AUTOMAKE_OPTIONS = gnu
 
-SUBDIRS = titan plugins
\ No newline at end of file
+SUBDIRS = titan
diff -Nur titan.svn/plugins/browser/netsurf/Makefile.am titan.svn.patched/plugins/browser/netsurf/Makefile.am
--- titan.svn/plugins/browser/netsurf/Makefile.am	2022-06-27 22:22:40.490115000 +0200
+++ titan.svn.patched/plugins/browser/netsurf/Makefile.am	2023-05-07 22:43:33.918774991 +0200
@@ -1,3 +1,3 @@
-lib_LTLIBRARIES = libbrowser.la
+noinst_LTLIBRARIES = libbrowser.la
 libbrowser_la_SOURCES = browser.c
 
diff -Nur titan.svn/plugins/games/catcatch/Makefile.am titan.svn.patched/plugins/games/catcatch/Makefile.am
--- titan.svn/plugins/games/catcatch/Makefile.am	2022-06-27 22:22:40.490115000 +0200
+++ titan.svn.patched/plugins/games/catcatch/Makefile.am	2023-05-07 22:44:43.479288879 +0200
@@ -1,3 +1,3 @@
-lib_LTLIBRARIES = libcatcatch.la
+noinst_LTLIBRARIES = libcatcatch.la
 libcatcatch_la_SOURCES = catcatch.c
 
diff -Nur titan.svn/plugins/games/sudoku/Makefile.am titan.svn.patched/plugins/games/sudoku/Makefile.am
--- titan.svn/plugins/games/sudoku/Makefile.am	2022-06-27 22:22:40.530114000 +0200
+++ titan.svn.patched/plugins/games/sudoku/Makefile.am	2023-05-07 22:45:03.740557464 +0200
@@ -1,4 +1,4 @@
-lib_LTLIBRARIES = libsudoku.la
+noinst_LTLIBRARIES = libsudoku.la
 libsudoku_la_SOURCES = sudoku.c
 
 bin_PROGRAMS = sudoku_core
diff -Nur titan.svn/plugins/games/wins3/Makefile.am titan.svn.patched/plugins/games/wins3/Makefile.am
--- titan.svn/plugins/games/wins3/Makefile.am	2022-06-27 22:22:40.534114000 +0200
+++ titan.svn.patched/plugins/games/wins3/Makefile.am	2023-05-07 22:45:28.310071764 +0200
@@ -1,3 +1,3 @@
-lib_LTLIBRARIES = libwins3.la
+noinst_LTLIBRARIES = libwins3.la
 libwins3_la_SOURCES = wins3.c
 
diff -Nur titan.svn/plugins/gui/e2starter/Makefile.am titan.svn.patched/plugins/gui/e2starter/Makefile.am
--- titan.svn/plugins/gui/e2starter/Makefile.am	2022-06-27 22:22:40.546114000 +0200
+++ titan.svn.patched/plugins/gui/e2starter/Makefile.am	2023-05-07 22:47:51.854503106 +0200
@@ -1,3 +1,3 @@
-lib_LTLIBRARIES = libe2starter.la
+noinst_LTLIBRARIES = libe2starter.la
 libe2starter_la_SOURCES = e2starter.c
 
diff -Nur titan.svn/plugins/gui/kodistarter/Makefile.am titan.svn.patched/plugins/gui/kodistarter/Makefile.am
--- titan.svn/plugins/gui/kodistarter/Makefile.am	2022-06-27 22:22:40.566114000 +0200
+++ titan.svn.patched/plugins/gui/kodistarter/Makefile.am	2023-05-07 22:48:22.232217069 +0200
@@ -1,3 +1,3 @@
-lib_LTLIBRARIES = libkodistarter.la
+noinst_LTLIBRARIES = libkodistarter.la
 libkodistarter_la_SOURCES = kodistarter.c
 
diff -Nur titan.svn/plugins/infos/imdb/Makefile.am titan.svn.patched/plugins/infos/imdb/Makefile.am
--- titan.svn/plugins/infos/imdb/Makefile.am	2022-06-27 22:22:40.630113000 +0200
+++ titan.svn.patched/plugins/infos/imdb/Makefile.am	2023-05-07 22:48:41.617300930 +0200
@@ -1,3 +1,3 @@
-lib_LTLIBRARIES = libimdb.la
+noinst_LTLIBRARIES = libimdb.la
 libimdb_la_SOURCES = imdb.c
 
diff -Nur titan.svn/plugins/infos/imdbapi/Makefile.am titan.svn.patched/plugins/infos/imdbapi/Makefile.am
--- titan.svn/plugins/infos/imdbapi/Makefile.am	2022-06-27 22:22:40.610114000 +0200
+++ titan.svn.patched/plugins/infos/imdbapi/Makefile.am	2023-05-07 22:48:55.610078901 +0200
@@ -1,3 +1,3 @@
-lib_LTLIBRARIES = libimdbapi.la
+noinst_LTLIBRARIES = libimdbapi.la
 libimdbapi_la_SOURCES = imdbapi.c
 
diff -Nur titan.svn/plugins/infos/mboxinfo/Makefile.am titan.svn.patched/plugins/infos/mboxinfo/Makefile.am
--- titan.svn/plugins/infos/mboxinfo/Makefile.am	2022-06-27 22:22:40.906110000 +0200
+++ titan.svn.patched/plugins/infos/mboxinfo/Makefile.am	2023-05-07 22:49:07.642745116 +0200
@@ -1,3 +1,3 @@
-lib_LTLIBRARIES = libmboxinfo.la
+noinst_LTLIBRARIES = libmboxinfo.la
 libmboxinfo_la_SOURCES = mboxinfo.c
 
diff -Nur titan.svn/plugins/infos/stock/Makefile.am titan.svn.patched/plugins/infos/stock/Makefile.am
--- titan.svn/plugins/infos/stock/Makefile.am	2022-06-27 22:22:40.706112000 +0200
+++ titan.svn.patched/plugins/infos/stock/Makefile.am	2023-05-07 22:49:23.731632110 +0200
@@ -1,3 +1,3 @@
-lib_LTLIBRARIES = libstock.la
+noinst_LTLIBRARIES = libstock.la
 libstock_la_SOURCES = stock.c
 
diff -Nur titan.svn/plugins/infos/streaminfo/Makefile.am titan.svn.patched/plugins/infos/streaminfo/Makefile.am
--- titan.svn/plugins/infos/streaminfo/Makefile.am	2022-06-27 22:22:40.698113000 +0200
+++ titan.svn.patched/plugins/infos/streaminfo/Makefile.am	2023-05-07 22:49:37.756401954 +0200
@@ -1,3 +1,3 @@
-lib_LTLIBRARIES = libstreaminfo.la
+noinst_LTLIBRARIES = libstreaminfo.la
 libstreaminfo_la_SOURCES = streaminfo.c
 
diff -Nur titan.svn/plugins/infos/tinews/Makefile.am titan.svn.patched/plugins/infos/tinews/Makefile.am
--- titan.svn/plugins/infos/tinews/Makefile.am	2022-06-27 22:22:40.662113000 +0200
+++ titan.svn.patched/plugins/infos/tinews/Makefile.am	2023-05-07 22:49:50.189081929 +0200
@@ -1,3 +1,3 @@
-lib_LTLIBRARIES = libtinews.la
+noinst_LTLIBRARIES = libtinews.la
 libtinews_la_SOURCES = tinews.c
 
diff -Nur titan.svn/plugins/infos/tmdb/Makefile.am titan.svn.patched/plugins/infos/tmdb/Makefile.am
--- titan.svn/plugins/infos/tmdb/Makefile.am	2022-06-27 22:22:40.702113000 +0200
+++ titan.svn.patched/plugins/infos/tmdb/Makefile.am	2023-05-07 22:50:05.109895077 +0200
@@ -1,3 +1,3 @@
-lib_LTLIBRARIES = libtmdb.la
+noinst_LTLIBRARIES = libtmdb.la
 libtmdb_la_SOURCES = tmdb.c
 
diff -Nur titan.svn/plugins/infos/weather/Makefile.am titan.svn.patched/plugins/infos/weather/Makefile.am
--- titan.svn/plugins/infos/weather/Makefile.am	2022-06-27 22:22:40.726112000 +0200
+++ titan.svn.patched/plugins/infos/weather/Makefile.am	2023-05-07 22:50:21.790800598 +0200
@@ -1,3 +1,3 @@
-lib_LTLIBRARIES = libweather.la
+noinst_LTLIBRARIES = libweather.la
 libweather_la_SOURCES = weather.c
 
diff -Nur titan.svn/plugins/infos/wm2018/Makefile.am titan.svn.patched/plugins/infos/wm2018/Makefile.am
--- titan.svn/plugins/infos/wm2018/Makefile.am	2022-06-27 22:22:40.894110000 +0200
+++ titan.svn.patched/plugins/infos/wm2018/Makefile.am	2023-05-07 22:50:36.191579516 +0200
@@ -1,3 +1,3 @@
-lib_LTLIBRARIES = libwm2018.la
+noinst_LTLIBRARIES = libwm2018.la
 libwm2018_la_SOURCES = wm2018.c
 
diff -Nur titan.svn/plugins/network/dlna/Makefile.am titan.svn.patched/plugins/network/dlna/Makefile.am
--- titan.svn/plugins/network/dlna/Makefile.am	2022-06-27 22:22:41.210107000 +0200
+++ titan.svn.patched/plugins/network/dlna/Makefile.am	2023-05-07 22:50:55.196603699 +0200
@@ -1,3 +1,3 @@
-lib_LTLIBRARIES = libdlna.la
+noinst_LTLIBRARIES = libdlna.la
 libdlna_la_SOURCES = dlna.c
 
diff -Nur titan.svn/plugins/network/facebook/Makefile.am titan.svn.patched/plugins/network/facebook/Makefile.am
--- titan.svn/plugins/network/facebook/Makefile.am	2022-06-27 22:22:40.914110000 +0200
+++ titan.svn.patched/plugins/network/facebook/Makefile.am	2023-05-07 22:51:09.033346828 +0200
@@ -1,3 +1,3 @@
-lib_LTLIBRARIES = libfacebook.la
+noinst_LTLIBRARIES = libfacebook.la
 libfacebook_la_SOURCES = facebook.c
 
diff -Nur titan.svn/plugins/network/ipsec/Makefile.am titan.svn.patched/plugins/network/ipsec/Makefile.am
--- titan.svn/plugins/network/ipsec/Makefile.am	2022-06-27 22:22:40.962110000 +0200
+++ titan.svn.patched/plugins/network/ipsec/Makefile.am	2023-05-07 22:51:22.746081305 +0200
@@ -1,3 +1,3 @@
-lib_LTLIBRARIES = libipsec.la
+noinst_LTLIBRARIES = libipsec.la
 libipsec_la_SOURCES = ipsec.c
 
diff -Nur titan.svn/plugins/network/minisatip/Makefile.am titan.svn.patched/plugins/network/minisatip/Makefile.am
--- titan.svn/plugins/network/minisatip/Makefile.am	2022-06-27 22:22:40.974109000 +0200
+++ titan.svn.patched/plugins/network/minisatip/Makefile.am	2023-05-07 22:51:34.754722970 +0200
@@ -1,3 +1,3 @@
-lib_LTLIBRARIES = libminisatip.la
+noinst_LTLIBRARIES = libminisatip.la
 libminisatip_la_SOURCES = minisatip.c
 
diff -Nur titan.svn/plugins/network/networkbrowser/Makefile.am titan.svn.patched/plugins/network/networkbrowser/Makefile.am
--- titan.svn/plugins/network/networkbrowser/Makefile.am	2022-06-27 22:22:41.062108000 +0200
+++ titan.svn.patched/plugins/network/networkbrowser/Makefile.am	2023-05-07 22:51:52.919691010 +0200
@@ -1,4 +1,4 @@
-lib_LTLIBRARIES = libnetworkbrowser.la
+noinst_LTLIBRARIES = libnetworkbrowser.la
 libnetworkbrowser_la_SOURCES = networkbrowser.c
 libnetworkbrowser_la_LIBADD = netlib/libnetscan.la
 
diff -Nur titan.svn/plugins/network/satipclient/Makefile.am titan.svn.patched/plugins/network/satipclient/Makefile.am
--- titan.svn/plugins/network/satipclient/Makefile.am	2022-06-27 22:22:41.058108000 +0200
+++ titan.svn.patched/plugins/network/satipclient/Makefile.am	2023-05-07 22:52:30.381678421 +0200
@@ -1,3 +1,3 @@
-lib_LTLIBRARIES = libsatipclient.la
+noinst_LTLIBRARIES = libsatipclient.la
 libsatipclient_la_SOURCES = satipclient.c
 
diff -Nur titan.svn/plugins/network/xupnpd/Makefile.am titan.svn.patched/plugins/network/xupnpd/Makefile.am
--- titan.svn/plugins/network/xupnpd/Makefile.am	2022-06-27 22:22:41.082108000 +0200
+++ titan.svn.patched/plugins/network/xupnpd/Makefile.am	2023-05-07 22:53:30.536847917 +0200
@@ -1,3 +1,3 @@
-lib_LTLIBRARIES = libxupnpd.la
+noinst_LTLIBRARIES = libxupnpd.la
 libxupnpd_la_SOURCES = xupnpd.c
 
diff -Nur titan.svn/plugins/tools/autotimer/autotimer.c titan.svn.patched/plugins/tools/autotimer/autotimer.c
--- titan.svn/plugins/tools/autotimer/autotimer.c	2022-06-27 22:22:41.198107000 +0200
+++ titan.svn.patched/plugins/tools/autotimer/autotimer.c	2023-05-07 20:29:20.465352252 +0200
@@ -1,6 +1,6 @@
-#include "../../titan/struct.h"
-#include "../../titan/debug.h"
-#include "../../titan/header.h"
+#include "../titan/struct.h"
+#include "../titan/debug.h"
+#include "../titan/header.h"
 
 char pluginname[] = "Auto Timer";
 char plugindesc[] = "Extensions";
diff -Nur titan.svn/plugins/tools/callmonitor1/callmonitor1.c titan.svn.patched/plugins/tools/callmonitor1/callmonitor1.c
--- titan.svn/plugins/tools/callmonitor1/callmonitor1.c	2022-06-27 22:22:41.198107000 +0200
+++ titan.svn.patched/plugins/tools/callmonitor1/callmonitor1.c	2023-05-07 20:39:40.927772900 +0200
@@ -1,6 +1,6 @@
-#include "../../titan/struct.h"
-#include "../../titan/debug.h"
-#include "../../titan/header.h"
+#include "../titan/struct.h"
+#include "../titan/debug.h"
+#include "../titan/header.h"
 #include "callmon_main.h"
 
 
diff -Nur titan.svn/plugins/tools/instar/instar.c titan.svn.patched/plugins/tools/instar/instar.c
--- titan.svn/plugins/tools/instar/instar.c	2022-06-27 22:22:41.250106000 +0200
+++ titan.svn.patched/plugins/tools/instar/instar.c	2023-05-07 20:40:14.407472020 +0200
@@ -1,6 +1,6 @@
-#include "../../titan/struct.h"
-#include "../../titan/debug.h"
-#include "../../titan/header.h"
+#include "../titan/struct.h"
+#include "../titan/debug.h"
+#include "../titan/header.h"
 
 #include "instar.h"
 
diff -Nur titan.svn/plugins/tools/keylock/keylock.c titan.svn.patched/plugins/tools/keylock/keylock.c
--- titan.svn/plugins/tools/keylock/keylock.c	2022-06-27 22:22:41.278106000 +0200
+++ titan.svn.patched/plugins/tools/keylock/keylock.c	2023-05-07 20:40:31.471318690 +0200
@@ -1,6 +1,6 @@
-#include "../../titan/struct.h"
-#include "../../titan/debug.h"
-#include "../../titan/header.h"
+#include "../titan/struct.h"
+#include "../titan/debug.h"
+#include "../titan/header.h"
 
 char pluginname[] = "KeyLock";
 char plugindesc[] = "Extensions";
diff -Nur titan.svn/plugins/tools/lcdpearl1/lcdpearl1.c titan.svn.patched/plugins/tools/lcdpearl1/lcdpearl1.c
--- titan.svn/plugins/tools/lcdpearl1/lcdpearl1.c	2023-05-04 21:46:29.004212188 +0200
+++ titan.svn.patched/plugins/tools/lcdpearl1/lcdpearl1.c	2023-05-07 20:41:00.375058971 +0200
@@ -1,6 +1,6 @@
-#include "../../titan/struct.h"
-#include "../../titan/debug.h"
-#include "../../titan/header.h"
+#include "../titan/struct.h"
+#include "../titan/debug.h"
+#include "../titan/header.h"
 
 #include "lcd_weather.h"
 
diff -Nur titan.svn/plugins/tools/lcdsamsung/lcdsamsung.c titan.svn.patched/plugins/tools/lcdsamsung/lcdsamsung.c
--- titan.svn/plugins/tools/lcdsamsung/lcdsamsung.c	2023-05-04 21:46:28.984212214 +0200
+++ titan.svn.patched/plugins/tools/lcdsamsung/lcdsamsung.c	2023-05-07 20:41:25.270835275 +0200
@@ -1,6 +1,6 @@
-#include "../../titan/struct.h"
-#include "../../titan/debug.h"
-#include "../../titan/header.h"
+#include "../titan/struct.h"
+#include "../titan/debug.h"
+#include "../titan/header.h"
 
 #include "lcd_weather.h"
 
@@ -533,7 +533,7 @@
 		hr = atoi(gettime(NULL, "%H"));
 		min = atoi(gettime(NULL, "%M"));
 		
-		// TV Programm läuft
+		// TV Programm l\E4uft
 		if(status.infobaraktiv == 1)
 		{
 			if(ostrcmp(getconfig("write_fb_to_jpg", NULL), "yes") == 0) {
diff -Nur titan.svn/plugins/tools/multiimage/MultiImage.c titan.svn.patched/plugins/tools/multiimage/MultiImage.c
--- titan.svn/plugins/tools/multiimage/MultiImage.c	2022-06-27 22:22:41.638102000 +0200
+++ titan.svn.patched/plugins/tools/multiimage/MultiImage.c	2023-05-07 20:41:44.430663124 +0200
@@ -1,6 +1,6 @@
-#include "../../titan/struct.h"
-#include "../../titan/debug.h"
-#include "../../titan/header.h"
+#include "../titan/struct.h"
+#include "../titan/debug.h"
+#include "../titan/header.h"
 
 char pluginname[] = "MultiImage";
 char plugindesc[] = "Start Images from USB device";
diff -Nur titan.svn/plugins/tools/permtime/permtime.c titan.svn.patched/plugins/tools/permtime/permtime.c
--- titan.svn/plugins/tools/permtime/permtime.c	2022-06-27 22:22:41.654102000 +0200
+++ titan.svn.patched/plugins/tools/permtime/permtime.c	2023-05-07 20:42:13.282403890 +0200
@@ -1,6 +1,6 @@
-#include "../../titan/struct.h"
-#include "../../titan/debug.h"
-#include "../../titan/header.h"
+#include "../titan/struct.h"
+#include "../titan/debug.h"
+#include "../titan/header.h"
 
 char pluginname[] = "Permanent Time";
 char plugindesc[] = "Extensions";
@@ -159,4 +159,4 @@
 		permtime_main();
 		
 	}
-}
\ No newline at end of file
+}
diff -Nur titan.svn/plugins/tools/sispmctl/sispmctl.c titan.svn.patched/plugins/tools/sispmctl/sispmctl.c
--- titan.svn/plugins/tools/sispmctl/sispmctl.c	2022-06-27 22:22:41.726101000 +0200
+++ titan.svn.patched/plugins/tools/sispmctl/sispmctl.c	2023-05-07 20:42:54.890030063 +0200
@@ -1,6 +1,6 @@
-#include "../../titan/struct.h"
-#include "../../titan/debug.h"
-#include "../../titan/header.h"
+#include "../titan/struct.h"
+#include "../titan/debug.h"
+#include "../titan/header.h"
 
 #include "sispmctl.h"
 
diff -Nur titan.svn/plugins/tools/stopifnotused/stopifnotused.c titan.svn.patched/plugins/tools/stopifnotused/stopifnotused.c
--- titan.svn/plugins/tools/stopifnotused/stopifnotused.c	2022-06-27 22:22:41.774100000 +0200
+++ titan.svn.patched/plugins/tools/stopifnotused/stopifnotused.c	2023-05-07 20:43:11.313882506 +0200
@@ -1,6 +1,6 @@
-#include "../../titan/struct.h"
-#include "../../titan/debug.h"
-#include "../../titan/header.h"
+#include "../titan/struct.h"
+#include "../titan/debug.h"
+#include "../titan/header.h"
 
 char pluginname[] = "Stop if not used";
 char plugindesc[] = "Auschalten der Box wenn in einem bestimmten Zeitraum keine Aktion erfolgte";
diff -Nur titan.svn/plugins/tools/tsschnitt/tsschnitt.c titan.svn.patched/plugins/tools/tsschnitt/tsschnitt.c
--- titan.svn/plugins/tools/tsschnitt/tsschnitt.c	2023-05-04 21:46:28.828212421 +0200
+++ titan.svn.patched/plugins/tools/tsschnitt/tsschnitt.c	2023-05-07 20:43:41.197614032 +0200
@@ -1,6 +1,6 @@
-#include "../../titan/struct.h"
-#include "../../titan/debug.h"
-#include "../../titan/header.h"
+#include "../titan/struct.h"
+#include "../titan/debug.h"
+#include "../titan/header.h"
 
 char pluginname[] = "Record cut";
 char plugindesc[] = "Extensions";
diff -Nur titan.svn/plugins/tools/wlandisplay/wlandisplay.c titan.svn.patched/plugins/tools/wlandisplay/wlandisplay.c
--- titan.svn/plugins/tools/wlandisplay/wlandisplay.c	2023-05-04 21:46:29.016212172 +0200
+++ titan.svn.patched/plugins/tools/wlandisplay/wlandisplay.c	2023-05-07 20:44:07.081381496 +0200
@@ -1,6 +1,6 @@
-#include "../../titan/struct.h"
-#include "../../titan/debug.h"
-#include "../../titan/header.h"
+#include "../titan/struct.h"
+#include "../titan/debug.h"
+#include "../titan/header.h"
 
 #include "lcd_weather.h"
 
@@ -528,7 +528,7 @@
 		hr = atoi(gettime(NULL, "%H"));
 		min = atoi(gettime(NULL, "%M"));
 		
-		// TV Programm läuft
+		// TV Programm l\E4uft
 		if(status.infobaraktiv == 1)
 		{
 			if(ostrcmp(getconfig("write_fb_to_jpg", NULL), "yes") == 0) {
diff -Nur titan.svn/plugins/tools/zapback/zapback.c titan.svn.patched/plugins/tools/zapback/zapback.c
--- titan.svn/plugins/tools/zapback/zapback.c	2022-06-27 22:22:41.978098000 +0200
+++ titan.svn.patched/plugins/tools/zapback/zapback.c	2023-05-07 20:44:22.373244119 +0200
@@ -1,6 +1,6 @@
-#include "../../titan/struct.h"
-#include "../../titan/debug.h"
-#include "../../titan/header.h"
+#include "../titan/struct.h"
+#include "../titan/debug.h"
+#include "../titan/header.h"
 
 char pluginname[] = "zapback (Werbezapper)";
 char plugindesc[] = "Extensions";
Binary files titan.svn/.svn/wc.db and titan.svn.patched/.svn/wc.db differ
diff -Nur titan.svn/titan/AUTHORS titan.svn.patched/titan/AUTHORS
--- titan.svn/titan/AUTHORS	1970-01-01 01:00:00.000000000 +0100
+++ titan.svn.patched/titan/AUTHORS	2023-05-08 10:18:40.877179470 +0200
@@ -0,0 +1 @@
+titan
diff -Nur titan.svn/titan/autogen.sh titan.svn.patched/titan/autogen.sh
--- titan.svn/titan/autogen.sh	2022-06-27 22:22:39.942121000 +0200
+++ titan.svn.patched/titan/autogen.sh	2023-05-08 01:40:01.444759000 +0200
@@ -1,6 +1,6 @@
 #!/bin/sh
 
-package="tuxbox-neutrino"
+package="tuxbox-titan"
 
 srcdir=`dirname $0`
 test -z "$srcdir" && srcdir=.
@@ -69,4 +69,4 @@
 echo "  autoheader"
 autoheader
 echo "  automake --add-missing"
-automake --add-missing 
\ No newline at end of file
+automake --add-missing 
diff -Nur titan.svn/titan/bcm.h titan.svn.patched/titan/bcm.h
--- titan.svn/titan/bcm.h	2023-05-04 21:46:27.460214239 +0200
+++ titan.svn.patched/titan/bcm.h	2023-05-08 12:09:26.524194218 +0200
@@ -15,7 +15,7 @@
 
 #define FBIO_ACCEL  0x23
 
-#if defined(EPLAYER4) && !defined(EXTEPLAYER3)
+#if !defined(EPLAYER3)
 // disable bool work include come from libeplayer3 titan/libeplayer3/include/playback.h #include <stdbool.h>
 // bool work start
 typedef int bool;
diff -Nur titan.svn/titan/ChangeLog titan.svn.patched/titan/ChangeLog
--- titan.svn/titan/ChangeLog	1970-01-01 01:00:00.000000000 +0100
+++ titan.svn.patched/titan/ChangeLog	2023-05-08 10:18:25.457542222 +0200
@@ -0,0 +1 @@
+titan
diff -Nur titan.svn/titan/configure.ac titan.svn.patched/titan/configure.ac
--- titan.svn/titan/configure.ac	2022-06-27 22:22:39.938121000 +0200
+++ titan.svn.patched/titan/configure.ac	2023-05-08 01:46:39.179555000 +0200
@@ -25,6 +25,22 @@
 AM_CONDITIONAL(ENABLE_EPLAYER3,test "$enable_eplayer3" = "yes")
 AC_SUBST(EPLAYER3)
 
+# gstreamer
+AC_ARG_ENABLE(gstreamer,
+	AS_HELP_STRING(--enable-gstreamer,include gstreamer as player engine support),
+	,[enable_gstreamer=no])
+AM_CONDITIONAL(ENABLE_EPLAYER4,test "$enable_gstreamer" = "yes")
+
+if test "$enable_gstreamer" = "yes"; then
+AC_DEFINE(EPLAYER4,1,[include gstreamer as player engine support])
+
+AC_ARG_WITH(gstversion,
+	AS_HELP_STRING([--with-gstversion],[use gstreamer version (major.minor)]),
+	[GST_MAJORMINOR=$withval],[GST_MAJORMINOR=1.0])
+
+PKG_CHECK_MODULES(GSTREAMER, gstreamer-$GST_MAJORMINOR gstreamer-pbutils-$GST_MAJORMINOR)
+fi
+
 AC_MSG_RESULT([
 summary:
 ----------------------------------------
diff -Nur titan.svn/titan/header.h titan.svn.patched/titan/header.h
--- titan.svn/titan/header.h	2023-05-04 21:46:27.528214147 +0200
+++ titan.svn.patched/titan/header.h	2023-05-07 18:26:22.228958304 +0200
@@ -8,9 +8,10 @@
 #ifndef HEADER_H
 #define HEADER_H
 
+
 // libeplayer3/playback/playback.h
 int8_t PlaybackDieNow(int8_t val);
-#ifndef EPLAYER4 
+#ifdef EPLAYER3
 bool PlaybackDieNowRegisterCallback(PlaybackDieNowCallback callback);
 #endif
 // ca.h
diff -Nur titan.svn/titan/Makefile.am titan.svn.patched/titan/Makefile.am
--- titan.svn/titan/Makefile.am	2022-06-27 22:22:39.690124000 +0200
+++ titan.svn.patched/titan/Makefile.am	2023-05-09 11:30:48.410304539 +0200
@@ -1,18 +1,17 @@
-ALL_CFLAGS= -DSH4 -DEXTEPLAYER3 -DEPLAYER3 -DSH4 -DDVDPLAYER -Os -export-dynamic -Wall -Wno-unused-but-set-variable
-
-INCLUDES = \
-	-I../../../tufsbox/cdkroot/usr/include \
-	-I../../../tufsbox/cdkroot/usr/include/freetype2 \
-	-I../../../tufsbox/cdkroot/usr/include/openssl \
-	-I../../driver/bpamem \
-	-I../../../apps/tools/libeplayer3/include \
-	-I../../../apps/tools/libmme_image \
-	-Ilibdreamdvd \
-	-Ititan
+ALL_CFLAGS= -Os -export-dynamic -Wall -Wno-unused-but-set-variable
 
 bin_PROGRAMS = titan
 
 titan_SOURCES =	titan.c
 
-titan_LDADD = -lm -lpthread -ldl -lpng -lfreetype -leplayer3 -ldreamdvd -ljpeg -lz -lmmeimage -lmme_host -lssl -lcrypto
+titan_LDADD = -lm -lpthread -ldl -lpng -lfreetype -ldreamdvd -ljpeg -lz -lssl -lcrypto -lipkg
+
+if ENABLE_EPLAYER3
+titan_LDADD += -leplayer3 -lass
+endif
+
+if ENABLE_EPLAYER4
+titan_LDADD += @GSTREAMER_LIBS@
+endif
+
 titan_CFLAGS = $(ALL_CFLAGS)
diff -Nur titan.svn/titan/mipselport.h titan.svn.patched/titan/mipselport.h
--- titan.svn/titan/mipselport.h	2022-06-27 22:22:39.698124000 +0200
+++ titan.svn.patched/titan/mipselport.h	2023-05-09 12:26:26.070050392 +0200
@@ -204,7 +204,7 @@
 	debug(444, "FB: var_screeninfo.bits_per_pixel %d", var_screeninfo.bits_per_pixel);
 	debug(444, "FB: var_screeninfo.grayscale %d", var_screeninfo.grayscale);
 	
-	if(checkchipset("HI3798MV200") == 0 && checkrealbox("HD51") == 0 && checkrealbox("HD60") == 0 && checkrealbox("HD61") == 0 && checkbox("DM7020HD") == 0 && checkbox("DM7020HDV2") == 0 && checkbox("DM900") == 0 && checkbox("DM920") == 0 && checkbox("WETEK") == 0 && checkbox("DM520") == 0 && checkbox("DM525") == 0 && checkchipset("3798MV200") == 0 && vubox1 == 0)
+	if(checkchipset("HI3798MV200") == 0 && checkrealbox("HD51") == 0 && checkrealbox("HD60") == 0 && checkrealbox("HD61") == 0 && checkbox("DM7020HD") == 0 && checkbox("DM7020HDV2") == 0 && checkbox("DM900") == 0 && checkbox("DM920") == 0 && checkbox("WETEK") == 0 && checkbox("DM520") == 0 && checkbox("DM525") == 0 && checkchipset("BCM7325") == 0 && vubox1 == 0)
 	{ 
 		if(ioctl(fb->fd, FBIOPUT_VSCREENINFO, &var_screeninfo) < 0)
 		{
diff -Nur titan.svn/titan/NEWS titan.svn.patched/titan/NEWS
--- titan.svn/titan/NEWS	1970-01-01 01:00:00.000000000 +0100
+++ titan.svn.patched/titan/NEWS	2023-05-08 10:18:56.716805863 +0200
@@ -0,0 +1 @@
+titan
diff -Nur titan.svn/titan/player.h titan.svn.patched/titan/player.h
--- titan.svn/titan/player.h	2023-05-04 21:46:27.528214147 +0200
+++ titan.svn.patched/titan/player.h	2023-05-07 15:12:45.539832732 +0200
@@ -3499,7 +3499,8 @@
 printf("return tracklist\n");
 		return TrackList;
 	#endif
-	#else
+	#endif
+	#ifdef EPLAYER4
 printf("return tracklist4b\n");
 
 		return TrackList4;
diff -Nur titan.svn/titan/README titan.svn.patched/titan/README
--- titan.svn/titan/README	1970-01-01 01:00:00.000000000 +0100
+++ titan.svn.patched/titan/README	2023-05-08 10:19:12.248438582 +0200
@@ -0,0 +1 @@
+titan
diff -Nur titan.svn/titan/security.h titan.svn.patched/titan/security.h
--- titan.svn/titan/security.h	2023-05-04 21:46:27.524214153 +0200
+++ titan.svn.patched/titan/security.h	2023-05-09 12:11:35.831001562 +0200
@@ -1374,8 +1374,12 @@
 {
 	if(status.boxtype == NULL)
 	{
-		if(isfile("/etc/model")	== 0) return NULL;
-		status.boxtype = string_toupper(readsys("/etc/model", 1));
+		if(isfile("/etc/model"))
+			status.boxtype = string_toupper(readsys("/etc/model", 1));
+		else if(isfile("/proc/stb/info/model"))
+			status.boxtype = string_toupper(readsys("/proc/stb/info/model", 1));
+		else
+			return NULL;
 	}
 
 	return status.boxtype;
@@ -1450,8 +1454,13 @@
 
 	if(status.boxtype == NULL)
 	{
+#ifdef MIPSEL
+		if(isfile("/proc/stb/info/model"))
+			boxversion = string_toupper(readsys("/proc/stb/info/model", 1));
+#else
 		if(isfile("/etc/model")	== 0) return 0;
 		boxversion = string_toupper(readsys("/etc/model", 1));
+#endif
 	}
 	else
 		boxversion = status.boxtype;
diff -Nur "titan.svn/titan/struct (copy 1).h" "titan.svn.patched/titan/struct (copy 1).h"
--- "titan.svn/titan/struct (copy 1).h"	1970-01-01 01:00:00.000000000 +0100
+++ "titan.svn.patched/titan/struct (copy 1).h"	2022-06-27 15:18:11.387077000 +0200
@@ -0,0 +1,2302 @@
+/*****************************************************/
+/* this file is part of the tiTan / tiTanNIT Project */
+/* and allowed only for use with this.               */
+/*                                                   */
+/* copyright by NIT                                  */
+/*****************************************************/
+
+#ifndef STRUCT_H
+#define STRUCT_H
+
+#ifndef _GNU_SOURCE
+#define _GNU_SOURCE
+#endif
+
+#ifdef SIMULATE
+#include <mcheck.h>
+#endif
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <stdint.h>
+#include <string.h>
+#include <libgen.h>
+#include <fcntl.h>
+#include <ctype.h>
+#include <linux/fb.h>
+#include <sys/ioctl.h>
+#include <sys/mman.h>
+#include <sys/sysmacros.h>
+#include <png.h>
+#include <jpeglib.h>
+#include <libintl.h>
+#include <locale.h>
+#include <math.h>
+#include <linux/input.h>
+#include <sys/wait.h>
+#include <time.h>
+#include <dirent.h>
+#include <fnmatch.h>
+#include <dlfcn.h>
+#include <pthread.h>
+#include <linux/dvb/frontend.h>
+#include <linux/dvb/dmx.h>
+#include <linux/dvb/audio.h>
+#include <linux/dvb/video.h>
+#include <sys/vfs.h>
+#include <inttypes.h>
+#include <sys/socket.h>
+#include <sys/un.h>
+#include <unistd.h>
+#include <zlib.h>
+#include <net/if.h>
+#include <netinet/in.h>
+#include <arpa/inet.h>
+#include <netdb.h>
+#include <errno.h>
+#include <linux/dvb/version.h>
+#include <setjmp.h>
+#include <sys/mount.h>
+#include <execinfo.h>
+#include <ifaddrs.h>
+#include <linux/dvb/ca.h>
+#include <poll.h>
+#include <sys/utsname.h>
+#include <regex.h>
+#include <mntent.h>
+#include <termios.h>
+//#ifndef SH4
+#include <sys/stat.h>
+//#endif
+#include <openssl/aes.h>
+#include <openssl/dh.h>
+#include <openssl/rsa.h>
+#include <openssl/sha.h>
+#include <stdio.h>
+#include <unistd.h>
+#include <fcntl.h>
+#include <sys/ioctl.h>
+#include <stdint.h>
+#include <inttypes.h>
+#include <arpa/inet.h>
+#include <time.h>
+#include <linux/dvb/ca.h>
+#include <sys/types.h>
+
+#include <fcntl.h>
+#include <stdint.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include <sys/types.h>
+#include <sys/stat.h>
+#include <unistd.h>
+#include <time.h>
+
+#include <openssl/pem.h>
+#include <openssl/x509.h>
+#include <openssl/x509v3.h>
+#include <openssl/sha.h>
+#include <openssl/aes.h>
+
+//for freetype
+#include <ft2build.h>
+#include FT_FREETYPE_H
+#include FT_CACHE_H
+
+//for eplayer
+#ifdef EPLAYER3
+#include <common.h>
+//#ifndef BETA
+//#include <subtitle.h>
+//#endif
+#endif
+
+#ifdef EPLAYER4
+#include <gst/gst.h>
+#include <gst/pbutils/missing-plugins.h>
+#endif
+
+#ifdef DVDPLAYER
+#include <ddvdlib.h>
+#endif
+
+#define DRIVER ""
+#define OVERSION "1.99"
+#define PROGNAME "titan"
+#define COPYRIGHT "NIT"
+#define CRONTRIBUT "obi, gost"
+#define PLUGINVERSION 1
+
+#define _(x) gettext(x)
+#define MINMALLOC 4096
+#define SCROLLBARWIDTH 15
+#define SCROLLBARBORDERSIZE 1
+#define FONTPOSYOFFSET -3
+#define FB "fb0"
+#define FB1 "fb1"
+#define SKINFB "skinfb"
+#define ACCELFB "accelfb"
+#define CONFIGFILE PROGNAME".cfg"
+#define KILLPROG "killall -9 "PROGNAME
+#define REBOOT "init 6"
+#define FILELISTDELMARK 255
+#define PLUGINDELMARK 254
+#define MAXDVBADAPTER 1
+#ifndef MIPSEL
+#define MAXFRONTENDDEV 4
+#else
+#define MAXFRONTENDDEV 10
+#endif
+#define MAXDEMUXDEVOPEN 10
+#define MAXAUDIODEV 4
+#define MAXVIDEODEV 4
+#define MAXCIDEV 4
+#define MAXCADEV 8
+#ifndef MIPSEL
+#define MAXDVRDEV 4
+#define MAXDEMUXDEV 4
+#else
+#define MAXDVRDEV 9
+#define MAXDEMUXDEV 9
+#define MAXENCODERDEV 2
+//#define DVB_API_VERSION 5
+#endif	 
+#define MAXSCDEV 2
+#define RCTIMEOUT 999999
+#define RCTHREADSTANDBY 999998
+#define MAXSERVICETYPE 10
+#define CHANNELCACHEMAX 1000
+#define MEDIADBCACHEMAX 1000
+#define TRANSPONDERCACHEMAX 500
+#define MAXHTTPDCONN 20
+#define MAXHTMLLINE 300
+#define MAXRGUIDCONN 1
+#define LISTHASHSIZE 27
+#define MAXCASESSION 16
+#define MAXCASERVICE 20
+#define MAXLONGKEY 10
+#define MAXSAT 64
+#define MAXBGDOWNLOAD 10
+#ifdef MIPSEL
+#define EPGSCANLOG "/mnt/logs/epgscan.log"
+#else
+#define EPGSCANLOG "/tmp/epgscan.log"
+#endif
+#define MAXCHANNELHISTORY 6
+#define HILO(x) (x##_hi << 8 | x##_lo)
+#define HILO32(x) (x##_hi << 24 | x##_mh << 16 | x##_ml << 8 | x##_lo)
+#define SERIALDEV "/dev/ttyAS0"
+#define MAXTOKENS 256
+#define MAXSTACKTRACE 30
+#define MAXSTACKTRACEFUNC 20
+
+#define USBDEVICE_SUPER_MAGIC 0x9fa2
+#define EXT2_SUPER_MAGIC 0xEF53
+#define EXT3_SUPER_MAGIC 0xEF53
+#define SMB_SUPER_MAGIC 0x517B
+#define NFS_SUPER_MAGIC 0x6969
+#define MSDOS_SUPER_MAGIC 0x4d44
+
+#ifndef VIDEO_SOURCE_HDMI
+#define VIDEO_SOURCE_HDMI 2
+#endif
+#ifndef AUDIO_SOURCE_HDMI
+#define AUDIO_SOURCE_HDMI 2
+#endif
+
+//cacc cert check
+#define ROOT_CERT     "/mnt/swapextensions/etc/pem/root.pem"
+#define CUSTOMER_CERT "/mnt/swapextensions/etc/pem/customer.pem"
+#define DEVICE_CERT   "/mnt/swapextensions/etc/pem/device.pem"
+#define MAX_ELEMENTS    33
+#ifdef MIPSEL
+#define CA_SET_DESCR_DATA_DREAM _IOW('o', 137, struct ca_descr_data)
+#define CA_SET_DESCR_DATA _IOW('o', 10, struct ca_descr_data)
+#endif
+#ifdef SH4NEW
+#define CA_SET_DESCR_DATA _IOW('o', 137, struct ca_descr_data)
+#endif
+#ifdef SIMULATE
+#define CA_SET_DESCR_DATA _IOW('o', 137, struct ca_descr_data)
+#endif
+
+//Start Function Entry Point
+#define STARTFUNC
+
+//CA Defines
+#define T_SB 0x80		//sb (h<--m)
+#define T_RCV 0x81		//receive (h-->m)
+#define T_CREATE_T_C 0x82	//create transport connection (h-->m)
+#define T_C_T_C_REPLY 0x83	//ctc reply (h<--m)
+#define T_DELETE_T_C 0x84	//delete tc (h<->m)
+#define T_D_T_C_REPLY 0x85	//dtc reply (h<->m)
+#define T_REQUEST_T_C 0x86	//request transport connection (h<--m)
+#define T_NEW_T_C 0x87		//new tc - reply to t_request (h-->m)
+#define T_T_C_ERROR 0x77	//error creating tc (h-->m)
+#define T_DATA_LAST 0xA0	//convey data from higher (h<->m)
+#define T_DATA_MORE 0xA1	//convey data from higher (h<->m)
+
+//Alarm Signal used as timeout
+#define ALARMTIMEOUT 1
+#define ALARMSTARTTIME(x) if(ALARMTIMEOUT == 1) {alarm(x);}
+#define ALARMSTOPTIME if(ALARMTIMEOUT == 1) {alarm(0);}
+
+// VFD icons supported (more or less) on all boxes:
+typedef enum { VFD_USB = 0x10, VFD_HD, VFD_HDD, VFD_LOCK, VFD_BT, VFD_MP3, VFD_MUSIC, VFD_DD, VFD_MAIL, VFD_MUTE, VFD_PLAY, VFD_PAUSE, VFD_FF, VFD_FR, VFD_REC, VFD_CLOCK } vfdicons;
+
+#define OMIN(a,b) (a < b ? a : b)
+#define OMAX(a,b) (a > b ? a : b)
+
+#define bcdtoint(i) ((((i & 0xf0) >> 4) * 10) + (i & 0x0f))
+
+#define alpha_composite(composite, fg, alpha, ralpha, bg) { (composite) = ((fg)*(alpha) + (bg)*(ralpha)) >> 8; }
+
+enum {LEFT=20000, CENTER, RIGHT, TEXTCENTER, TEXTRIGHT};
+enum {TOP=20000, MIDDLE, BOTTOM, TEXTMIDDLE, TEXTBOTTOM};
+enum {BOTTOMLEFT, BOTTOMRIGHT, TOPLEFT, TOPRIGHT};
+enum {LEFTRIGHT=1, TOPBOTTOM, LEFTMIDDLE, TOPMIDDLE};
+enum {NO, YES, AUTONO, AUTOYES};
+enum {UNDEF=0, LISTBOX=1, TEXTBOX=2, CHOICEBOX=4, INPUTBOX=8, INPUTBOXNUM=16, FILELIST=32, PROGRESSBAR=64, MENU=128, MULTIPROGRESSBAR=256, GRID=512, GRIDBR=1024, PASSWORD=2048};
+enum {FRONTENDDEV, DEMUXDEV, VIDEODEV, AUDIODEV, CADEV, CIDEV, FRONTENDDEVDUMMY, DVRDEV, SCDEV, ENCODERDEV};
+enum {TV, RADIO};
+enum {RECDIRECT, RECTIMER, RECTIMESHIFT, RECSTREAM, RECPLAY, RECSTREAMENC};
+#ifdef DREAMBOX
+enum {MPEGV = 0, MPEG4V = 4, H264 = 1, VC1 = 10, H265 = 22};
+enum {AC3 = 0, MPEGA = 1, DTS = 2, LPCM = 6, AAC = 8, AACHE = 9, DTSHD = 16, DDP = 7};
+#else
+enum {AC3 = 0, MPEGA = 1, DTS = 2, LPCM = 6, AAC = 8, AACHE = 9, DTSHD = 16, DDP = 34};
+enum {MPEGV = 0, MPEG4V = 4, H264 = 1, VC1 = 10, H265 = 7};
+#endif
+enum {ALLCHANNEL, SATCHANNEL, PROVIDERCHANNEL, AZCHANNEL, BOUQUETCHANNEL, SATLIST, PROVIDERLIST, AZLIST, MAINBOUQUETLIST};
+enum {NOMODE, MVMODE, RMMODE, CPMODE, PROTECTMODE, EDITMODE};
+enum {NOTHING, CHANNEL, STILLPIC, RECORDDIRECT, RECORDTIMER, RECORDTIMESHIFT, RECORDSTREAM, TMPOTHER, RECORDPLAY, HDMIIN};
+enum {START, PAUSE, STOP};
+enum {DEACTIVE, ACTIVE, INPAUSE, ERROR};
+enum {FUNCTEXT, FUNCPIC, FUNCPROGRESS,FUNCPICOLED};
+enum {CASESSIONCREATE, CASESSIONBUSY, CASESSIONDEL, CASESSIONSTART, CASESSIONFINAL, CARESFIRSTENQUIRY, CARESCHANGE, CARESENQUIRY, CADATETIMESEND, CAMMIIDLE, CAMMIDISPLAYREPLAY, CAMMIFAKEOK};
+enum {feSatellite, feCable, feTerrestrial, feATSC};
+
+#ifdef BETA
+struct stacktrace
+{
+	int pos;
+	pthread_t thread;
+	void* func[MAXSTACKTRACEFUNC];
+};
+struct stacktrace stacktrace[MAXSTACKTRACE];
+#endif
+
+struct lastsubtitle
+{
+	uint64_t transponderid;
+	int serviceid;
+	int16_t subtitlepid;
+	int16_t subtitleid1;
+	int16_t subtitleid2;
+	struct lastsubtitle* next;
+};
+
+struct newsletter
+{
+	unsigned long nr;
+	char* date;
+	char* title;
+	char* text;
+	struct newsletter* next;
+};
+
+struct oldentry
+{
+	void* entry;
+	//0 = epg
+	int type;
+	time_t del;
+	struct oldentry* next;
+};
+
+struct unicable
+{
+	char* manufacturer;
+	char* product;
+	int scr1;
+	int scr2;
+	int scr3;
+	int scr4;
+	int scr5;
+	int scr6;
+	int scr7;
+	int scr8;
+	int scr9;
+	int scr10;
+	int scr11;
+	int scr12;
+	int scr13;
+	int scr14;
+	int scr15;
+	int scr16;
+	int scr17;
+	int scr18;
+	int scr19;
+	int scr20;
+	int scr21;
+	int scr22;
+	int scr23;
+	int scr24;
+	int scr25;
+	int scr26;
+	int scr27;
+	int scr28;
+	int scr29;
+	int scr30;
+	int scr31;
+	int scr32;
+	int lofl;
+	int lofh;
+	struct unicable* next;
+	struct unicable* prev;
+};
+
+struct id3tag
+{
+	int version;
+	char* title;
+	char* artist;
+	char* album;
+	char* year;
+	char* comment;
+	char* genrecode;
+	char* genretext;
+	char* poster;
+	int track;
+	int len;
+	int picturetype;
+	unsigned int picturepos;
+	unsigned int picturelen;
+};
+
+struct id3genre
+{
+	int code;
+	char text[30];
+};
+
+struct regex
+{
+	char* match1;
+	char* match2;
+	char* match3;
+	char* match4;
+	char* match5;
+	char* match6;
+	char* match7;
+	char* match8;
+	char* match9;
+	char* match10;
+};
+
+struct imdb
+{
+	char* title;
+	char* year;
+	char* rated;
+	char* released;
+	char* genre;
+	char* director;
+	char* writer;
+	char* actors;
+	char* plot;
+	char* poster;
+	char* runtime;
+	char* rating;
+	char* votes;
+	char* id;
+	char* thumb;
+};
+
+struct imdbapi
+{
+	char* title;
+	char* year;
+	char* rated;
+	char* released;
+	char* genre;
+	char* director;
+	char* writer;
+	char* actors;
+	char* plot;
+	char* poster;
+	char* runtime;
+	char* rating;
+	char* votes;
+	char* id;
+};
+
+struct tmdb
+{
+	char* title;
+	char* year;
+	char* rated;
+	char* released;
+	char* genre;
+	char* runtime;
+	char* plot;
+	char* postermid;
+	char* rating;
+	char* votes;
+	char* id;
+	char* backdrop;
+	char* imdbid;
+	char* orgname;
+	char* language;
+	char* type;
+	char* score;
+	char* cover;
+	char* thumb;
+	char* mvi;
+	struct tmdb* prev;
+	struct tmdb* next;
+};
+
+struct mediadbfilter
+{
+	struct mediadb* node;
+	int count;
+	struct mediadbfilter* prev;
+	struct mediadbfilter* next;
+};
+
+struct mediadbcategory
+{
+	int type;
+	char* name;
+	struct mediadbcategory* prev;
+	struct mediadbcategory* next;
+};
+
+struct mediadb
+{
+	char* id;
+	int type;
+	char* title;
+	int year;
+	char* released;
+	char* runtime;
+	char* genre;
+	char* director;
+	char* writer;
+	char* actors;
+	char* plot;
+	char* poster;
+	int rating;
+	int votes;
+	char* path;
+	char* file;
+	char* shortname;
+	char* fileinfo;
+	time_t timestamp;
+	//bit 31: manual change
+	int flag;
+	int backdropcount;
+	struct mediadb* prev;
+	struct mediadb* next;
+};
+
+struct mediadbcache
+{
+	char* path;
+	char* file;
+	struct mediadb* mediadbnode;
+	struct mediadbcache* next;
+};
+
+struct mostzap
+{
+	int serviceid;
+	uint64_t transponderid;
+	int count;
+	struct mostzap* prev;
+	struct mostzap* next;
+};
+
+struct menulist
+{
+	char* name;
+	char* text;
+	char* pic;
+	char* param;
+	char* param1;
+	char* param2;
+	char* param3;
+	int deaktiv;
+	int defaultentry;
+	struct menulist* next;
+};
+
+struct channelhistory
+{
+	struct channel* chnode;
+	char* channellist;
+};
+
+struct queue
+{
+	//0-99 for ca module
+	//101 for thumb thread
+	int type;
+	int flag;
+	int len;
+	void* data;
+	void* data1;
+	struct queue* prev;
+	struct queue* next;
+};
+
+struct casession
+{
+	int inuse;
+	int sessionnr;
+	int action;
+	int state;
+	int mmimanager;
+	int camanager;
+	int datetimemanager;
+	int appmanager;
+	int resmanager;
+	int ccmanager;
+#ifdef MIPSEL
+	int hostmanager;
+	int mmiappmanager;
+	int hostlacmanager;
+	int upgrademanager;
+#endif
+	char* mmititle;
+	char* mmisubtitle;
+	char* mmitext;
+	char* mmibottom;
+};
+
+struct caslot
+{
+	struct casession casession[MAXCASESSION];
+	int connid;
+	int poll;
+	int status;
+	int rlen;
+	unsigned char* rbuf;
+	char* name;
+	int fastrun;
+	char* caids;
+	// cacc
+	unsigned char lastKey[32];
+	uint8_t lastParity;
+//	unsigned char scrambled;
+	int scrambled;
+	void *private_data;
+	int ccmgr_ready;
+	// not in used currently
+	int inuse;
+	int sidblacklisted;
+};
+
+struct hdd
+{
+	char* device;
+	int partition;
+	unsigned long long size;
+	char* filesystem;
+	char* label;
+	char* uuid;
+	char* vendor;
+	char* model;
+	int removable;
+	int read;
+	int write;
+	int sleeptime;
+	int notchanged;
+	struct hdd* prev;
+	struct hdd* next;
+};
+
+struct scaninfo
+{
+	struct dvbdev* fenode;
+	struct transponder* tpnode;
+	struct skin* scanscreen;
+	struct skin* listbox;
+	int threadend;
+	int scantype;
+	int fetype;
+	int orbitalpos;
+	int timeout;
+	int onlyfree;
+	int networkscan;
+	int clear;
+	int blindscan;
+	char* satname;
+	int tpcount;
+	int tpmax;
+	int tpnew;
+	int tpdel;
+	int tvcount;
+	int newtvcount;
+	int radiocount;
+	int newradiocount;
+	int datacount;
+	int newdatacount;
+	int blindcount;
+	int newblindcount;
+	int changename;
+	int cleartransponder;
+	unsigned int blindmax;
+} scaninfo;
+
+struct screensaver
+{
+	int type;
+	int speed;
+	int newposx;
+	int newposy;
+	int flag;
+	struct skin* screen;
+	struct skin* screennode;
+	struct skin* filelist;
+	struct skin* aktnode;
+	struct pic* pic;
+	char* value;
+	char* path;
+};
+
+struct playlist
+{
+	char* file;
+	struct playlist* prev;
+	struct playlist* next;
+};
+
+struct mainplaylist
+{
+	char* name;
+	char* filename;
+	struct playlist* playlist;
+	struct mainplaylist* prev;
+	struct mainplaylist* next;
+};
+
+struct epgrecord
+{
+	time_t begin;
+	time_t end;
+	int posx;
+	int size;
+	struct epgrecord* prev;
+	struct epgrecord* next;
+};
+
+struct download
+{
+	char* link;
+	char* cmd;
+	char* host;
+	char* page;
+	int port;
+	char* filename;
+	char* auth;
+	char* user;
+	char* pass;
+	int connfd;
+	int proz;
+	unsigned int maxkb;
+	unsigned int aktkb;
+	int ret;
+	int timeout;
+	int flag;
+};
+
+struct copyfile
+{
+	char* from;
+	char* to;
+	int proz;
+	int filecount;
+	int maxfilecount;
+	off64_t maxkb;
+	off64_t aktkb;
+	int stop;
+	int ret;
+	int flag;
+};
+
+struct epgscanlist
+{
+	int serviceid;
+	uint64_t transponderid;
+	time_t scantime;
+	struct epgscanlist* prev;
+	struct epgscanlist* next;
+	char* name;
+};
+
+struct rgba
+{
+	char r;
+	char g;
+	char b;
+	char a;
+};
+
+struct subclutentry
+{
+	unsigned char Y, Cr, Cb, T;
+	unsigned char valid;
+};
+
+struct subclut
+{
+	unsigned char clutid;
+	unsigned char clutversionnumber;
+	struct subclutentry entries2bit[4];
+	struct subclutentry entries4bit[16];
+	struct subclutentry entries8bit[256];
+	struct subclut *next;
+};
+
+struct subpagereg
+{
+	int regid;
+	int reghorizontaladdress;
+	int regverticaladdress;
+	int scaleposx, scaleposy;
+	struct subpagereg *next;
+};
+
+struct subregobj
+{
+	int objid;
+	int objtype;
+	int objproviderflag;
+	int objhorizontalpos;
+	int objverticalpos;
+	// not supported right now...
+	int foregroundpixel;
+	int backgroundpixel;
+	struct subregobj *next;
+};
+
+struct subreg
+{
+	int regid;
+	int versionnumber;
+	int height, width;
+	int scaleheight, scalewidth;
+	int depth;
+	unsigned char *buf;
+	struct rgba *palette;
+	int clutid;
+	int committed;
+	struct subregobj *objects;
+	struct subreg *next;
+};
+
+struct subpage
+{
+	int pageid;
+	time_t pagetimeout;
+	int pageversionnumber;
+	int state;
+	int pcssize;
+	struct subpagereg *pageregions;
+	struct subreg *regions;
+	struct subclut *cluts;
+	struct subpage *next;
+};
+
+struct bitstream
+{
+        unsigned char *data;
+        int size;
+        int avail;
+        int consumed;
+};
+
+//there are a copyrectimer function
+//if you change the struct you must change this funktion
+struct rectimer
+{
+	char* name;
+	char* timestamp;
+	time_t begin;
+	time_t end;
+	int repeate;
+	int afterevent;
+	char* pincode;
+	int disabled;
+	int justplay;
+	char* recpath;
+	int servicetype;
+	char* channellist;
+	int serviceid;
+	//0 = nothing
+	//1 = running
+	//2 = end
+	//3 = error
+	//4 = epgscan timer activ
+	//5 = epgscan timer not activ
+	int status;
+	char* errstr;
+	struct service* servicenode;
+	uint64_t transponderid;
+	struct rectimer *prev;
+	struct rectimer *next;
+};
+
+struct inetwork
+{
+	char* device;
+	char* ip;
+	char* netmask;
+	char* mac;
+	char* broadcast;
+	//0 = static
+	//1 = dhcp
+	//2 = off
+	int type;
+	int found;
+	//flag 1 = used in titan
+	int flag;
+	struct inetwork *prev;
+	struct inetwork *next;
+};
+
+struct rcmap
+{
+	char* name;
+	int key;
+	int newkey;
+	struct rcmap* next;
+};
+
+struct splitstr
+{
+	char* part;
+};
+
+struct channelcache
+{
+	int serviceid;
+	uint64_t transponderid;
+	struct channel* chnode;
+	struct channelcache* next;
+};
+
+struct transpondercache
+{
+	uint64_t transponderid;
+	struct transponder* tpnode;
+	struct transpondercache* next;
+};
+
+struct filelist
+{
+	int type;
+	int view;
+	off64_t size;
+	time_t date;
+};
+
+struct skin
+{
+	char* name;
+	unsigned int type;
+	uint8_t wrap;
+	uint8_t bordersize;
+	uint8_t scrollbar;
+	uint16_t halign;
+	uint16_t valign;
+	int16_t posx;
+	int16_t posy;
+	int16_t width;
+	int16_t height;
+	long bordercol;
+	long deaktivcol;
+	long shadowcol;
+	uint8_t shadowsize;
+	uint8_t shadowpos;
+	uint8_t fontsize;
+	uint8_t fontsize2;
+	long fontcol;
+	long fontcol2;
+	char* font;
+	int16_t zorder;
+	int16_t titlealign;
+	char* title;
+	char* text;
+	char* text2;
+	long bgcol;
+	long bgcol2;
+	long titlebgcol;
+	long titlebgcol2;
+	long progresscol;
+	char* selectpic;
+	char* pic;
+	int16_t picwidth;
+	int16_t picheight;
+	uint16_t hspace;
+	uint16_t vspace;
+	char* (*skinfunc)(struct skin*, void*, void*);
+	char* param1;
+	char* param2;
+	char* parent;
+	char* input;
+	char* mask;
+	uint16_t textposx;
+	uint16_t textposx2;
+	int16_t gradient;
+	int16_t titlegradient;
+	uint8_t transparent;
+	uint8_t hidden;
+	uint8_t funcrettype;
+	int8_t charspace;
+	int8_t bordertype;
+	int16_t borderradius;
+	uint16_t bgspace;
+	uint8_t picquality;
+
+	uint8_t titlesize;
+	struct filelist* filelist;
+	struct skin* parentpointer;
+	char* ret;
+	char* choiceboxvalue;
+	unsigned int linecount;
+	unsigned int pagecount;
+	unsigned int poscount;
+	unsigned int gridcol;
+	int aktpage;
+	int aktline;
+	uint8_t scrollbarbordersize;
+	uint8_t prozposx;
+	uint8_t prozposy;
+	uint8_t prozwidth;
+	uint8_t prozheight;
+	uint8_t picprozwidth;
+	uint8_t del;
+	uint8_t picprozheight;
+	int16_t scrollbarheight;
+	int16_t progresssize;
+	int16_t scrollbarwidth;
+	int16_t scrollbarpos;
+	int16_t rposx;
+	int16_t rposy;
+	int16_t rwidth;
+	int16_t rheight;
+	int16_t rpicwidth;
+	int16_t rpicheight;
+	int16_t iposx;
+	int16_t iposy;
+	int16_t iwidth;
+	int16_t iheight;
+	char* handle;
+	char* handle1;
+	struct epgrecord* epgrecord;
+	char* pluginhandle;
+	uint8_t locked;
+	uint8_t picmem;
+	//bit 0: 1 = node is drawed
+	//bit 1: 1 = node is changed
+	uint8_t flag;
+	int hash;
+	struct skin *select;
+	struct skin *child;
+	struct skin *prev;
+	struct skin *next;
+	struct skin *drawnext;
+	// usesavebg=0 disable 
+	// usesavebg=1 save always
+	// usesavebg=2 save one times then free
+	// usesavebg=3 dummy for filelist 
+	int usesavebg;
+	// savebg is saved date
+	char* savebg;
+	// fuer blinken
+	int nodestyle;
+};
+
+struct style
+{
+	char* name;
+	int16_t posx;
+	int16_t posy;
+	int16_t width;
+	int16_t height;
+	int16_t picwidth;
+	int16_t picheight;
+	uint16_t textposx;
+	uint16_t textposx2;
+	uint16_t halign;
+	uint16_t valign;
+	uint16_t hspace;
+	uint16_t vspace;
+	uint16_t bgspace;
+	int16_t borderradius;
+	int16_t titlealign;
+	int16_t zorder;
+	int16_t gradient;
+	int16_t titlegradient;
+	uint8_t picquality;
+	uint8_t hidden;
+	uint8_t wrap;
+	uint8_t scrollbar;
+	uint8_t bordersize;
+	int8_t bordertype;
+	uint8_t shadowsize;
+	uint8_t shadowpos;
+	uint8_t fontsize;
+	uint8_t fontsize2;
+	int8_t charspace;
+	uint8_t transparent;
+	uint8_t prozposx;
+	uint8_t prozposy;
+	uint8_t prozwidth;
+	uint8_t prozheight;
+	uint8_t picprozwidth;
+	uint8_t picprozheight;
+	uint8_t funcrettype;
+	uint8_t picmem;
+	long bordercol;
+	long deaktivcol;
+	long progresscol;
+	long shadowcol;
+	long fontcol;
+	long fontcol2;
+	long titlebgcol;
+	long titlebgcol2;
+	long bgcol;
+	long bgcol2;
+	char* font;
+	char* pic;
+	char* param1;
+	char* param2;
+	char* input;
+	char* mask;
+	char* (*skinfunc)(struct skin*, void*, void*);
+	struct style* next;
+};
+
+struct epg
+{
+	int eventid;
+	int version;
+	time_t starttime;
+	time_t endtime;
+	char* title;
+	char* subtitle;
+	char* desc;
+	int desclen;
+	int desccomplen;
+	int parentalrating;
+	struct epg* prev;
+	struct epg* next;
+};
+
+struct shutdowntimer
+{
+	int active,type; //type: 0=DeepStandby, 1=Standby
+	long long shutdown_time;
+};
+
+struct dvbdev
+{
+	char* dev;
+	int fd;
+	uint8_t type;
+	uint8_t adapter;
+	uint8_t devnr;
+	uint8_t felock;
+	uint8_t deactive;
+	uint8_t decoder;
+	struct transponder* felasttransponder;
+	struct transponder* feakttransponder;
+	int feunicable;
+	unsigned int feloffrequency;
+	unsigned int feloffrequency_uni;
+	int feaktband;
+	int feaktpolarization;
+	fe_sec_voltage_t feaktvolt;
+	fe_sec_tone_mode_t feakttone;
+	int fedmxsource;
+	char* feaktnr;
+	char* feshortname;
+	char* fehyprid;
+	struct dvb_frontend_info* feinfo;
+	struct caslot* caslot;
+	struct dvbdev *next;
+};
+
+//there are a copytransponder and createtransponder function
+//if you change this struct you must change the function
+struct transponder
+{
+	uint64_t id;
+	uint8_t fetype;
+	uint8_t polarization;
+	uint8_t modulation;
+	uint8_t fec;
+	uint8_t pilot;
+	uint8_t rolloff;
+	uint8_t inversion;
+	uint8_t system;
+	uint8_t flag;
+	// 0 = unknown
+	// 1 = tunable
+	// 2 = not tunable
+	uint8_t tunablestatus;
+	int orbitalpos;
+	unsigned int frequency;
+	unsigned int symbolrate;
+	int encoding;
+	time_t lastepg;
+	struct transponder *next;
+};
+
+struct provider
+{
+	int providerid;
+	char* name;
+	int flag;
+	struct provider *prev;
+	struct provider *next;
+};
+
+struct subtitle
+{
+	char* name;
+	int16_t subtype;
+	int16_t pid;
+	int16_t type;
+	int16_t id1;
+	int16_t id2;
+	struct subtitle* next;
+};
+
+struct esinfo
+{
+	int streamtype;
+	int pid;
+	struct esinfo* next;
+};
+
+struct cadesc
+{
+	int pid;
+	int len;
+	int systemid;
+	int reserved;
+	int capid;
+	char* privat;
+	struct cadesc* next;
+};
+
+struct pmt
+{
+	int programnumber;
+	int versionnumber;
+	int currentnextindicator;
+};
+
+struct audiotrack
+{
+	char* name;
+	uint8_t audiocodec;
+	int16_t audiopid;
+	int16_t rdspid;
+	struct audiotrack* next;
+};
+
+struct linkedchannel
+{
+	uint64_t transponderid;
+	int serviceid;
+	time_t starttime;
+	time_t endtime;
+	struct linkedchannel* next;
+};
+
+//there are a createchannel function
+//if you change this struct you must change the function
+struct channel
+{
+	char* name;
+	uint64_t transponderid;
+	int providerid;
+	int serviceid;
+	int servicetype;
+	uint8_t flag;
+	uint8_t crypt;
+	int8_t videocodec;
+	int8_t audiocodec;
+	int16_t videopid;
+	int16_t audiopid;
+	int16_t ac3audiopid;
+	int16_t txtpid;
+	int16_t pcrpid;
+	int16_t pmtpid;
+	int16_t aitpid;
+	uint8_t protect;
+	char* hbbtvurl;
+	struct transponder *transponder;
+	struct provider *provider;
+	struct audiotrack *audiotrack;
+	struct subtitle *subtitle;
+	struct linkedchannel *linkedchannel;
+	struct pmt *pmt;
+	struct cadesc *cadesc;
+	struct esinfo *esinfo;
+	struct epg *epg;
+	struct channel *prev;
+	struct channel *next;
+};
+
+struct sat
+{
+	char* name;
+	int orbitalpos;
+	int flag;
+	int fetype;
+	int scan;
+	struct sat *prev;
+	struct sat *next;
+};
+
+struct service
+{
+	int type;
+	char* channellist;
+	struct dvbdev *fedev;
+	struct dvbdev *dmxaudiodev;
+	struct dvbdev *dmxvideodev;
+	struct dvbdev *dmxpcrdev;
+	struct dvbdev *dmxsubtitledev;
+	struct dvbdev *audiodev;
+	struct dvbdev *videodev;
+	struct dvbdev *encoderdev;
+	struct transponder *transponder;
+	struct channel *channel;
+	unsigned char *pmtbuf;
+	int pmtlen;
+	int recdmxstart;
+	int recdstfd;
+	int recsrcfd;
+	time_t recendtime;
+	char* rectimestamp;
+	size_t reclastsync;
+	off64_t rectotal;
+	int reccount;
+	int tssize;
+	char* recname;
+	unsigned long long lenpts;
+	unsigned long long startpts;
+	unsigned long long endpts;
+	unsigned long long bitrate;
+	off64_t endoffile;
+	struct service *next;
+};
+
+struct caservice
+{
+	struct service* service;
+	struct channel* channel;
+	int count;
+	int camsockfd;
+	struct caslot* caslot;
+	int camanager;
+	char* capmt;
+	int capmtlen;
+	int cmdpos;
+};
+
+struct stimerthread
+{
+	int delay;
+	int count;
+	int notfirst;
+	pthread_attr_t attr;
+	pthread_t thread;
+	int status;
+	int aktion;
+	//bit 0: 1 = stop allwas on titan end
+	int flag;
+	void* param1;
+	void* param2;
+	void* (*func)(struct stimerthread*, void*, void*);
+	struct stimerthread* next;
+};
+
+struct hddparm
+{
+	char* device;
+	int read;
+	int write;
+	int sleeptime;
+	int notchanged;
+};
+
+struct marker
+{
+	off64_t pos;
+	off64_t time;
+	char* timetext;
+	struct marker* prev;
+	struct marker* next;
+};
+
+struct status
+{
+	int longkeycode[MAXLONGKEY];
+	//aktivate extra featers
+	int expertmodus;
+	//http user:passwd
+	char* httpauth;
+	//set to 1 if channellist or channelnr open
+	int channelswitch;
+	//deaktivates child protect if greater then akttime
+	time_t protecttime;
+	char* boxtype;
+	char* realboxtype;
+	pthread_t mainthread;
+	//videosize from stream
+	video_size_t videosize;
+	time_t videosizevalid;
+	//radius for rounded border
+	int borderradius;
+	int picbordersize;
+	int titlelinesize;
+	//0 border
+	//1 fullbar
+	int listboxselecttype;
+	//0 camd.socket
+	//1 pmt.tmp
+	int pmtmode;
+	//timer for del old epg entrys
+	time_t deloldepg;
+	//write epg periodic to medium
+	time_t writeperiodicepg;
+	//0 dektiv
+	//1 only scan
+	//2 only whitlist
+	//3 scan and whitelist
+	int epglistmode;
+	// 1 manual
+	// 2 from standby
+	int startmode;
+	jmp_buf longjumpbuf;
+	pthread_mutex_t drawingmutex;
+	pthread_mutex_t rectimermutex;
+	pthread_mutex_t servicemutex;
+	pthread_mutex_t epgmutex;
+	pthread_mutex_t channelmutex;
+	pthread_mutex_t timerthreadmutex;
+	pthread_mutex_t audiotrackmutex;
+	pthread_mutex_t subtitlemutex;
+	pthread_mutex_t linkedchannelmutex;
+	pthread_mutex_t dmxdevmutex;
+	pthread_mutex_t rcmutex;
+	pthread_mutex_t queuemutex;
+	pthread_mutex_t clistmutex;
+	pthread_mutex_t hddmutex;
+	pthread_mutex_t tsseekmutex;
+	pthread_mutex_t accelfbmutex;
+	pthread_mutex_t mediadbmutex;
+	pthread_mutex_t oldentrymutex;
+	pthread_mutex_t newslettermutex;
+	pthread_mutex_t tithekmutex;
+	pthread_mutex_t inetworkmutex;
+	pthread_mutex_t textboxmutex;
+	pthread_mutex_t setaktresmutex;
+	pthread_mutex_t waitrcmutex;
+	// mutex for VFD handling
+	pthread_mutex_t vfdmutex;
+	// mutex for OLED handling
+	pthread_mutex_t oledmutex;
+		// mutex for cec handling
+	pthread_mutex_t cecmutex;
+	off64_t recsplitsize;
+	char* gateway;
+	char* dnsserver1;
+	char* dnsserver2;
+	int fasttextrender;
+	// 1 release all menus
+	int menurelease;
+	int play;
+	int pause;
+	int playspeed;
+	int slowspeed;
+	int prefillbuffer;
+	int playpic;
+	int singlepicfd;
+	int singlepicthreadstatus;
+#ifdef EPLAYER4
+	int prefillbuffercount;
+	int bufferpercent;
+	int cleaninfobar;
+//	gint avgInRate;
+//	gint avgOutRate;
+//	gint64 bufferingLeft;
+	gint64 pts;
+#endif
+	int random;
+	int repeat;
+	int epgdays;
+	int spinnertime;
+	int spinnerspeed;
+	int hangtime;
+	int timeupdatecount;
+	int markmodus;
+	// 1 from main prog
+	// 2 from a thread
+	int standby;
+	char* tmp;
+	// rc filedescriptor
+	int fdrc;
+	// rc filedescriptor for tuxtxt
+	int fdrctxt;
+	int writeconfig;
+	int writeownconfig;
+	int writercconfig;
+	int writeskinconfig;
+	int writechannel;
+	int writetransponder;
+	int writeprovider;
+	int writemainbouquet;
+	int writebouquet;
+	int writemainplaylist;
+	int writeplaylist;
+	int writesat;
+	int writerectimer;
+	int writeepgscanlist;
+	int writemostzap;
+	int writemediadb;
+	int writelastsubtitle;
+	int writechannelslot;
+	// 1 mute is aktiv
+	int mute;
+	// 1 spinner is aktiv
+	int spinner;
+	// 1 infobar is aktiv
+	// 2 infobar is aktiv (with wait befor show)
+	// 3 infobar is aktiv (no autohide)
+	int infobar;
+	// with infobar to display
+	int infobarnr;
+	// 0 is for mute screen
+	struct skin *drawallways[1];
+	char* drawallwaysbg[1];
+	int usedirectfb;
+	// count how long last rcwait (shows spinner if to long)
+	time_t sec;
+	// if set to a value != 0, rcwait returns this number
+	int rckey;
+	struct skin* skinerr;
+	pthread_attr_t timerthreadattr;
+	pthread_t timerthread;
+	int timerthreadstatus;
+	int timerthreadaktion;
+	pthread_attr_t subthreadattr;
+	pthread_t subthread;
+	int subthreadstatus;
+	int subthreadaktion;
+	int subthreadpid;
+	int subthreadid1;
+	int subthreadid2;
+	// epg thread pointer
+	struct stimerthread* epgthread;
+	// epgscanlist thread pointer
+	struct stimerthread* epgscanlistthread;
+	// httpd thread pointer
+	struct stimerthread* httpthread;
+	// rguid thread pointer
+	struct stimerthread* rguithread;
+	// mediadb thread pointer
+	struct stimerthread* mediadbthread;
+	// newsletter thread pointer
+	struct stimerthread* newsletterthread;
+	// thumb thread pointer
+	struct stimerthread* thumbthread;
+	// rectimer thread
+	struct stimerthread* rectimerthread;
+	// singlepic thread
+	struct stimerthread* singlepicthread;
+	// rguid sock filedescriptor for rguid
+	int rguidfd;
+	struct service* aktservice;
+	struct service* lastservice;
+	struct service* pipservice;
+	struct channel* markedchannel;
+	//if we are in a epg screen, this is the showen channel
+	struct channel* epgchannel;
+	char* configfile;
+	// for bouquet channel numbering
+	int bouquetnr[MAXSERVICETYPE];
+	int servicetype;
+	struct shutdowntimer *sd_timer;
+	// akt pos in channel cache
+	int channelcachepos;
+	// aktivate/deaktivate auto updatevfd
+	int updatevfd;
+	// count for recording
+	int recording;
+	// count for streaming
+	int streaming;
+	// pvr allowed = 1, disable = 0
+	int pvr;
+	// timeshift running = 1, ending = 2
+	int timeshift;
+	// 0 = normal, 1 = permanent timeshift
+	int timeshifttype;
+	// position in timeshiftfile to seek
+	off64_t timeshiftpos;
+	// ask if timeshift is running and switch channel
+	int asktimeshift;
+	// ts playing running = 1
+	int playing;
+	// if set to a skin (screenpointer) only this screen has rc
+	struct skin* rcowner;
+	struct skin* rcstandby;
+	// timerstuktur fuer autores
+	struct stimerthread* restimer;
+	// spindown USB/HDD
+	struct hddparm hdd[3];
+	struct stimerthread* addhddall;
+	// save old rotor position
+	int rotoroldorbitalpos;
+	// security check
+	int security;
+	// set to 1 if tvpic size is changed
+	int tvpic;
+	// timestamp for rc action
+	time_t lastrcaction;
+	// show timeline in channellist for each channel
+	int showchanneltimeline;
+	// see player.h for details
+	int playercan;
+		//Code von infobar.h aktiv = 1
+	int infobaraktiv;
+	//Name der Datei die abgespielt wird
+	char* playfile;
+	//Code MC aktiv = 1
+	int mcaktiv;
+	//greater 0 aktivate screen animation
+	int screenanim;
+	int screenanimspeed;
+	//for auto increase audio vol
+	int volautochange;
+	int volautochangevalue;
+	//for powerofftimer
+	time_t fixpowerofftime;
+	//for write FB in File
+	int write_png;
+	int write_jpg;
+	//holds oversize value for blitter
+	int leftoffset;
+	int rightoffset;
+	int topoffset;
+	int bottomoffset;
+	//background picture for all screens
+	char* bgpic;
+	//time for next picmem timeout check
+	time_t picmemtimeout;
+	time_t defpicmemtimeout;
+	//show not tunable channel hidden (0)) or deaktive (1) in channellist
+	int channellistview;
+	//for blockmove in channellist
+	int moveblockcount;
+	//name ob file who played from webig
+	char* webplayfile;
+	//status of mediadbthread
+	int mediadbthreadstatus;
+	//for save mediadb in scan
+	time_t mediadbsavetime;
+	//colors / pic for selection
+	long markcol;
+	long filelistselectcol;
+	long listboxselectcol;
+	char* selectpic;
+	//check if cam can decrypt channel
+	int checkcamdecrypt;
+	//don't send privat part of cadescriptor in capmt
+	int caskipprivat;
+	//send all caids or only caids cam can
+	int casendallcaids;
+	//show hidden files in filelist
+	int showhiddenfiles;
+	//mediadb
+	int mediadbfiles;
+	//show infobar on program change
+	int infobarprogram;
+	//for auto increase audio vol (mute)
+	int volmute;
+	int secondzap;
+	//pointer to marker for recordings
+	struct marker* playmarker;
+	int autosubtitle;
+	//save timeshift start time
+	time_t timeshiftstart;
+	int crosscontrol;
+	int autochangechannelname;
+	//tuxtext is running
+	int tuxtxt;
+	//on some fat32 hdd it takes very long to get free size
+	int showrecfreesize;
+	int firstunicablewait;
+	//path for imdbfolder
+	char* imdbfolderpath;
+	int virtualzap;
+	int fontsizeadjust;
+	//count for drawing screen
+	unsigned int drawscreencount;
+	int autoseek;
+	//skip all rc input events older than this value in millisec
+	int rcskipms;
+	//Workaround da ansonsten DVR4 nicht funktioniert (Treiberproblem)
+	int setdvr0;
+#ifdef MIPSEL
+	//cec mipsel
+	int cec_fixedAddress;
+	int hdmiFd;
+	int webencode;
+#endif
+	//pip Einstellungen
+	int pipzap;
+	// guest
+	int whilecount;
+	int sleepcount;
+	int stats;
+	char* url;
+	//externer plugin Aufruf
+	char* extplugin;
+	//node oled blinken
+	int skinblink;
+#ifndef SIMULATE
+	//BCM accel interface 
+	int bcm;
+#endif
+	//Volume
+	int volume;
+	int screenshot;
+	// cacc
+	int certchecked;
+	int certok;
+	int liveslot;
+	// dynamic default skin infobar
+	int getepgaktstart;
+	int getepgaktend;
+	int getepgakttitle;
+	int getepgakttimeremaining;
+	int getepgnextstart;
+	int getepgnextend;
+	int getepgnexttitle;
+	int getepgnexttimeremaining;
+	// downmix switch in audio menu (audiotrack.h)
+	int downmix;
+	// channels for recording
+	struct channel* recchnode[9];
+	// frontdev filedescriptor
+	int fdrc1;
+	// Anzah VideoDevs
+	int videodevs;
+} status;
+
+struct fb
+{
+	int dev;
+	char *name;
+	int fd;
+	unsigned char *fb;
+	unsigned long *fblong;
+	int width;
+	int height;
+	int pitch;
+	unsigned long fixfbsize;
+	unsigned long varfbsize;
+	int colbytes;
+	unsigned long data_phys;
+	struct fb *next;
+};
+
+struct rc
+{
+	int key;
+	void (*rcfunc)(struct skin*, struct skin*, int screencalc, int filelistview, int flag);
+	struct skin *screen;
+	struct skin *screennode;
+	struct skin *owner;
+	struct rc *next;
+};
+
+struct clist
+{
+	char *key;
+	char *value;
+	char *def;
+	char *tmp;
+	struct clist *next;
+};
+
+struct bouquet
+{
+	int nr;
+	int serviceid;
+	uint64_t transponderid;
+	struct channel *channel;
+	struct bouquet *prev;
+	struct bouquet *next;
+};
+
+struct channelslot
+{
+	int slot;
+	int serviceid;
+	uint64_t transponderid;
+	struct channelslot *next;
+};
+
+struct mainbouquet
+{
+	char *name;
+	int type;
+	char *filename;
+	struct bouquet *bouquet;
+	struct mainbouquet *prev;
+	struct mainbouquet *next;
+};
+
+struct pic
+{
+	char* name;
+	unsigned char* picbuf;
+	// < 0 when picbuf is normal mem (hw jpg)
+	int memfd;
+	unsigned long width;
+	unsigned long height;
+	unsigned long rowbytes;
+	int channels;
+  int timeout;
+  time_t lastaccess;
+	int del;
+	struct pic* next;
+};
+
+struct font
+{
+	char *name;
+	FT_Error error;
+	FTC_Manager manager;
+	FTC_SBitCache cache;
+	FTC_ImageTypeRec desc;
+	FT_Face face;
+	FT_UInt prev_glyphindex;
+	FT_Bool use_kerning;
+	struct font *next;
+};
+
+//structure for write fb to File
+struct writeFBfile
+{
+	unsigned char* ActBuf;
+	unsigned char* buf1;
+	unsigned char* buf2;
+} writeFBfile;
+
+struct eit
+{
+	u_char table_id                               /*:8*/;
+	u_char section_length_hi                      :4;
+	u_char                                        :3;
+	u_char section_syntax_indicator               :1;
+	u_char section_length_lo                      /*:8*/;
+	u_char service_id_hi                          /*:8*/;
+	u_char service_id_lo                          /*:8*/;
+	u_char current_next_indicator                 :1;
+	u_char version_number                         :5;
+	u_char                                        :2;
+	u_char section_number                         /*:8*/;
+	u_char last_section_number                    /*:8*/;
+	u_char transport_stream_id_hi                 /*:8*/;
+	u_char transport_stream_id_lo                 /*:8*/;
+	u_char original_network_id_hi                 /*:8*/;
+	u_char original_network_id_lo                 /*:8*/;
+	u_char segment_last_section_number            /*:8*/;
+	u_char segment_last_table_id                  /*:8*/;
+	u_char data[]; /* struct eitevent */
+};
+#define EITLEN sizeof(struct eit)
+#define GETEITSECLEN(x) HILO(((struct eit*)(x))->section_length)
+
+struct eitevent
+{
+	u_char event_id_hi                            /*:8*/;
+	u_char event_id_lo                            /*:8*/;
+	u_char mjd_hi                                 /*:8*/;
+	u_char mjd_lo                                 /*:8*/;
+	u_char start_time_h                           /*:8*/;
+	u_char start_time_m                           /*:8*/;
+	u_char start_time_s                           /*:8*/;
+	u_char duration_h                             /*:8*/;
+	u_char duration_m                             /*:8*/;
+	u_char duration_s                             /*:8*/;
+	u_char descriptors_loop_length_hi             :4;
+	u_char free_ca_mode                           :1;
+	u_char running_status                         :3;
+	u_char descriptors_loop_length_lo             /*:8*/;
+	u_char data[];
+};
+#define EITEVENTLEN sizeof(struct eitevent)
+#define GETEITDESCLEN(x) HILO(((struct eitevent *)x)->descriptors_loop_length)
+
+struct eitshortevent
+{
+	u_char descriptor_tag                         /*:8*/;
+	u_char descriptor_length                      /*:8*/;
+	u_char lang_code1                             /*:8*/;
+	u_char lang_code2                             /*:8*/;
+	u_char lang_code3                             /*:8*/;
+	u_char event_name_length                      /*:8*/;
+	u_char data[];
+};
+#define EITSHORTEVENTLEN sizeof(struct eitshortevent)
+
+struct eitlongevent
+{
+	u_char descriptor_tag                         /*:8*/;
+	u_char descriptor_length                      /*:8*/;
+	u_char last_descriptor_number                 :4;
+	u_char descriptor_number                      :4;
+	u_char lang_code1                             /*:8*/;
+	u_char lang_code2                             /*:8*/;
+	u_char lang_code3                             /*:8*/;
+	u_char length_of_items                        /*:8*/;
+	u_char data[]; /* struct eitlongeventitem */
+};
+#define EITLONGEVENTLEN sizeof(struct eitlongevent)
+
+struct eitlongeventitem
+{
+	u_char item_description_length               /*:8*/;
+	u_char data[];
+};
+#define EITLONGEVENTITEMLEN sizeof(struct eitlongeventitem)
+
+struct eitlinkage
+{
+	u_char descriptor_tag                 /*:8*/;
+	u_char descriptor_length              /*:8*/;
+	u_char transport_stream_id_hi         /*:8*/;
+	u_char transport_stream_id_lo         /*:8*/;
+	u_char original_network_id_hi         /*:8*/;
+	u_char original_network_id_lo         /*:8*/;
+	u_char service_id_hi                  /*:8*/;
+	u_char service_id_lo                  /*:8*/;
+	u_char linkage_type                   /*:8*/;
+};
+#define EITLLINKAGELEN sizeof(struct eitlinkage)
+
+struct parentalrating
+{
+	u_char descriptor_tag                 /*:8*/;
+	u_char descriptor_length              /*:8*/;
+	u_char data[]; //struct parental_rating_item
+};
+#define PARENTALRATINGLEN sizeof(struct parentalrating)
+
+struct parentalratingitem
+{ 
+	u_char lang_code1                    /*:8*/;
+	u_char lang_code2                    /*:8*/;
+	u_char lang_code3                    /*:8*/;
+	u_char rating                        /*:8*/;
+};
+#define PARENTALRATINGITEMLEN sizeof(struct parentalratingitem)
+
+struct rst //table id 0x71
+{ 
+	u_char table_id                     /*:8*/;
+	u_char section_syntax_indicator         :1;
+	u_char reserved_1                       :1;
+	u_char reserved_2                       :2;
+	u_int section_length                   :12;
+};
+#define RSTLEN sizeof(struct rst)
+
+struct rstitem
+{ 
+	u_char transponder_stream_id_hi     /*:8*/;
+	u_char transponder_stream_id_lo     /*:8*/;
+	u_char original_network_id_hi       /*:8*/;
+	u_char original_network_id_lo       /*:8*/;
+	u_char service_id_hi                /*:8*/;
+	u_char service_id_lo                /*:8*/;
+	u_char event_id_hi                  /*:8*/;
+	u_char event_id_lo                  /*:8*/;
+	u_char reserved_1                       :5;
+	u_char running_status                   :3;
+};
+#define RSTITEMLEN sizeof(struct rstitem)
+
+struct mhwchannel
+{
+	u_char	network_id_hi;
+	u_char	network_id_lo;
+	u_char	transponder_id_hi;
+	u_char	transponder_id_lo;
+	u_char	channel_id_hi;
+	u_char	channel_id_lo;
+	u_char	name[16];
+};
+#define MHWCHANNELLEN sizeof(struct mhwchannel)
+
+struct mhwtitle
+{
+	u_char table_id                       :8;
+	u_char section_length_hi              :4;
+	u_char                                :2;
+	u_char dummy                          :1;
+	u_char section_syntax_indicator       :1;
+	u_char section_length_lo              :8;
+	u_char channel_id                     :8;
+	u_char theme_id                       :8;
+	u_char hours		                      :5;
+	u_char day                            :3;
+	u_char summary_available              :1;
+	u_char		                            :1;
+	u_char minutes                        :6;
+	u_char                                :8;
+	u_char                                :8;
+	u_char duration_hi                    :8;
+	u_char duration_lo                    :8;
+	u_char title                          [23];
+	u_char ppv_id_hi                      :8;
+	u_char ppv_id_mh                      :8;
+	u_char ppv_id_ml                      :8;
+	u_char ppv_id_lo                      :8;
+	u_char program_id_hi                  :8;
+	u_char program_id_mh                  :8;
+	u_char program_id_ml                  :8;
+	u_char program_id_lo                  :8;
+	u_char                                :8;
+	u_char                                :8;
+	u_char                                :8;
+	u_char                                :8;
+};
+#define MHWTITLELEN sizeof(struct mhwtitle)
+
+struct mhwsummary
+{
+	u_char table_id                       :8;
+	u_char section_length_hi              :4;
+	u_char                                :2;
+	u_char dummy                          :1;
+	u_char section_syntax_indicator       :1;
+	u_char section_length_lo              :8;
+	u_char program_id_hi                  :8;
+	u_char program_id_mh                  :8;
+	u_char program_id_ml                  :8;
+	u_char program_id_lo                  :8;
+	u_char                                :8;
+	u_char                                :8;
+	u_char                                :8;
+	u_char nb_replays                     :8;
+};
+#define MHWSUMMARYLEN sizeof(struct mhwsummary)
+
+struct mhw2channel
+{
+	u_char network_id_hi;
+	u_char network_id_lo;
+	u_char transponder_id_hi;
+	u_char transponder_id_lo;
+	u_char channel_id_hi;
+	u_char channel_id_lo;
+	u_char                                :8;
+	u_char                                :8;
+};
+
+struct extepgcache
+{
+	long id;
+	struct epg* epgnode;
+	struct extepgcache* next;
+};
+
+struct extepgchannel
+{
+	long id;
+	int serviceid;
+	uint64_t transponderid;
+	struct extepgchannel* next;
+};
+
+struct extepgconfig
+{
+	uint64_t transponderid;
+	int type;
+	char* file;
+	int channelpid;
+	int titlepid[8];
+	int summarypid[8];
+	struct extepgconfig* next;
+};
+
+struct blacklist
+{
+  char* file;
+  struct splitstr* splitstr;
+  int count;
+};
+
+typedef struct sci_modes
+{
+	int emv2000;
+	int dma;
+	int man_act;
+	int rw_mode;
+} scimodes;
+
+typedef struct sci_parameters
+{
+	u_char T;
+	unsigned long fs;
+	unsigned long ETU;
+	unsigned long WWT;
+	unsigned long CWT;
+	unsigned long BWT;
+	unsigned long EGT;
+	unsigned long clock_stop_polarity;
+	u_char check;
+	u_char P;
+	u_char I;
+	u_char U;
+} sciparameters;
+
+struct update
+{
+	char* auth;
+	char* type;
+	char* skinname;
+	char* filemask;
+	char* filepath;
+	int imgtype;
+};
+
+struct musicdat
+{
+	char* dummy;
+	char* thumb;
+	char* title;
+	char* album;
+	char* realname;
+	char* actors;
+	char* genre;
+	char* year;
+	int   act;
+} musicdat;
+
+#ifdef EPLAYER4
+typedef enum { stUnknown, stPlainText, stSSA, stASS, stSRT, stVOB, stPGS } subtype_t;
+typedef enum {atUnknown, atMPEG, atMP3, atAC3, atDTS, atAAC, atPCM, atOGG, atFLAC, atWMA} audiotype_t;
+typedef struct _CustomData {
+//typedef struct CustomData {
+  GstElement *playbin2;   /* Our one and only element */
+   
+  gint n_video;          /* Number of embedded video streams */
+  gint n_audio;          /* Number of embedded audio streams */
+  gint n_text;           /* Number of embedded subtitle streams */
+   
+  gint current_video;    /* Currently playing video stream */
+  gint current_audio;    /* Currently playing audio stream */
+  gint current_text;     /* Currently playing subtitle stream */
+
+  gboolean is_live;
+  GstElement *pipeline;
+  GMainLoop *loop;
+} CustomData;
+
+typedef enum {
+	GST_PLAY_FLAG_VIDEO = (1 << 0),
+	GST_PLAY_FLAG_AUDIO = (1 << 1),
+	GST_PLAY_FLAG_TEXT = (1 << 2),
+	GST_PLAY_FLAG_NATIVE_VIDEO = (1 << 3)
+} GstPlayFlags;
+#endif
+
+#ifdef MIPSEL
+//fuer cec Mipsel
+
+#ifdef DREAMBOX
+struct cec_message
+{
+	unsigned char address;
+	unsigned char data[16];
+	unsigned char length;
+	unsigned char flag;
+}__attribute__((packed));
+struct cec_rx_message
+{
+	unsigned char address;
+	unsigned char destination;
+	unsigned char data[16];
+	unsigned char length;
+}__attribute__((packed));
+
+
+#else
+struct cec_message
+{
+unsigned char address;
+unsigned char length;
+unsigned char data[256];
+}__attribute__((packed));
+struct cec_rx_message
+{
+	unsigned char address;
+	unsigned char destination;
+	unsigned char data[16];
+	unsigned char length;
+}__attribute__((packed));
+#endif
+
+unsigned char cec_physicalAddress[2];
+unsigned char cec_logicalAddress;
+unsigned char cec_deviceType;
+
+#endif
+
+// cacc
+/* CI+ certificates */
+
+struct cert_ctx {
+	X509_STORE *store;
+
+	/* Host */
+	X509 *cust_cert;
+	X509 *device_cert;
+
+	/* Module */
+	X509 *ci_cust_cert;
+	X509 *ci_device_cert;
+};
+
+#ifdef MIPSEL
+enum ca_descr_data_type {
+	CA_DATA_IV,
+	CA_DATA_KEY,
+};
+
+enum ca_descr_parity {
+	CA_PARITY_EVEN,
+	CA_PARITY_ODD,
+};
+
+struct ca_descr_data {
+	unsigned int index;
+	enum ca_descr_parity parity;
+	enum ca_descr_data_type data_type;
+	unsigned int length;
+	unsigned char *data;
+};
+
+#endif
+
+#ifdef SH4NEW
+enum ca_descr_data_type {
+	CA_DATA_IV,
+	CA_DATA_KEY,
+};
+
+enum ca_descr_parity {
+	CA_PARITY_EVEN,
+	CA_PARITY_ODD,
+};
+
+struct ca_descr_data {
+	unsigned int index;
+	enum ca_descr_parity parity;
+	enum ca_descr_data_type data_type;
+	unsigned int length;
+	unsigned char *data;
+};
+
+#endif
+
+#ifdef SIMULATE
+enum ca_descr_data_type {
+	CA_DATA_IV,
+	CA_DATA_KEY,
+};
+
+enum ca_descr_parity {
+	CA_PARITY_EVEN,
+	CA_PARITY_ODD,
+};
+
+struct ca_descr_data {
+	unsigned int index;
+	enum ca_descr_parity parity;
+	enum ca_descr_data_type data_type;
+	unsigned int length;
+	unsigned char *data;
+};
+
+#endif
+
+struct aes_xcbc_mac_ctx {
+	uint8_t K[3][16];
+	uint8_t IV[16];
+	AES_KEY key;
+	int buflen;
+};
+
+uint32_t datatype_sizes[MAX_ELEMENTS] = {
+	0, 50, 0, 0, 0, 8, 8, 0,
+	0, 0, 0, 0, 32, 256, 256, 0,
+	0, 256, 256, 32, 8, 8, 32, 32,
+	0, 8, 2, 32, 1, 32, 1, 0,
+	32
+};
+
+struct element {
+	uint8_t *data;
+	uint32_t size;
+	/* buffer valid */
+	int valid;
+};
+
+struct cc_ctrl_data {
+	/* parent */
+	struct caslot* slot;
+
+	/* ci+ credentials */
+	struct element elements[MAX_ELEMENTS];
+
+	/* DHSK */
+	uint8_t dhsk[256];
+
+	/* KS_host */
+	uint8_t ks_host[32];
+
+	/* derived keys */
+	uint8_t sek[16];
+	uint8_t sak[16];
+
+	/* AKH checks - module performs 5 tries to get correct AKH */
+	unsigned int akh_index;
+
+	/* authentication data */
+	uint8_t dh_exp[256];
+
+	/* certificates */
+	struct cert_ctx *cert_ctx;
+
+	/* private key of device-cert */
+	RSA *rsa_device_key;
+};
+
+#endif
diff -Nur titan.svn/titan/titan.c titan.svn.patched/titan/titan.c
--- titan.svn/titan/titan.c	2023-05-04 21:46:27.520214158 +0200
+++ titan.svn.patched/titan/titan.c	2023-05-09 12:56:11.042431197 +0200
@@ -272,8 +272,10 @@
 #include "settings_overclocking.h"
 #include "settings_pluginbutton.h"
 #ifndef SIMULATE
+#ifdef MIPSEL
 #include "bcm.h"
 #endif
+#endif
 #include "settings_mediabutton.h"
 #include "oled.h"
 #ifdef MIPSEL
@@ -706,7 +708,7 @@
 	}
 
 	//setze groesse Framebuffer
-	if(checkchipset("BCM7424") == 1 || checkchipset("BCM7358") == 1 || checkchipset("BCM7362") == 1)
+	if(checkchipset("BCM7424") == 1 || checkchipset("BCM7358") == 1 || checkchipset("BCM7362") == 1 /*|| checkchipset("BCM7325") == 1*/)
 		setframebuffer(1280, 720, 1280, 1440, 32);
 	if(frameb1 == 1)
 	{
@@ -857,7 +859,7 @@
 		}
 		if(ret > 0)
 		{
-			if((checkchipset("BCM7424") == 1 || checkchipset("BCM7358") == 1 || checkchipset("BCM7362") == 1 || checkbox("UFS913") == 1 || checkbox("SPARK") == 1 || checkbox("SPARK7162") == 1 || checkbox("IPBOX91") == 1 || checkbox("IPBOX900") == 1 || checkbox("IPBOX910") == 1 || checkbox("IPBOX9000") == 1) && checkhighflash() != 0)
+			if((checkchipset("BCM7424") == 1 || checkchipset("BCM7358") == 1 || checkchipset("BCM7362") == 1 /*|| checkchipset("BCM7325") == 1*/ || checkbox("UFS913") == 1 || checkbox("SPARK") == 1 || checkbox("SPARK7162") == 1 || checkbox("IPBOX91") == 1 || checkbox("IPBOX900") == 1 || checkbox("IPBOX910") == 1 || checkbox("IPBOX9000") == 1) && checkhighflash() != 0)
 			{
 				printf("error: 7\n");		
 //				destroy();
@@ -947,7 +949,7 @@
 
 #ifdef MIPSEL
 	waitvsync();
-	if(checkbox("DM7020HD") == 0 && checkbox("DM7020HDV2") == 0 && checkbox("VUSOLO2") == 0 && checkbox("DM900") == 0 && checkbox("DM920") == 0 && checkbox("DM520") == 0 && checkbox("DM525") == 0 && vubox1 == 1)
+	if(checkbox("DM7020HD") == 0 && checkbox("DM7020HDV2") == 0 && checkbox("VUSOLO2") == 0 && checkbox("DM900") == 0 && checkbox("DM920") == 0 && checkbox("DM520") == 0 && checkbox("DM525") == 0 /*&& checkchipset("BCM7325") == 1*/ && vubox1 == 1)
 		setfbosd();
 	if(checkrealbox("HD51") == 1 || checkrealbox("HD60") == 1 || checkrealbox("HD61") == 1 || checkbox("SF4008") == 1 || checkchipset("HI3798MV200") == 1)
 	{
